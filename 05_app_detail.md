# アプリケーション詳細設計
## 全体
- ("pdf-P10"→ワイヤーフレームのpdfの10ページを指すものとします。)
- 管理者とエンドユーザでルーティングが分かれていない。(問題点)
  - users#index, users#show,cds#index,cds#showの備考欄に"ユーザと管理者"が抜けていますが、上記で包括するものとします。
- deviseコントローラのルーティングが書かれていない。(問題点)
- 商品の入荷を管理するコントローラがない。(問題点)
  - ワイヤーフレームにも画面はない。
- アーティスト、ジャンル、レーベルを管理するコントローラがない。(問題点)
  - ワイヤーフレームにも画面はない。
- pdf-P2の検索結果画面を表示するアクションが不明瞭。(問題点)
  - cds#indexに検索機能を追加、とあるが、"カートに追加"、"詳細"リンクがないため別のように見える。(ワイヤー側の問題)
- pdf-P5、カート内容画面(cart_items#index)と思うが、タイトル、購入数がビューにないのでわかりにくい。(ワイヤー側の問題)
- pdf-P9のお届け先住所変更画面を表示するアクションがない。(問題点)
- pdf-P10の支払い方法変更画面を表示するアクションがない。(問題点)
- pdf-P13の退会確認画面を表示するアクションがない。(問題点)
- pdf-P14の退会完了画面を表示するアクションがない。(問題点)
- pdf-P16の会員登録画面にサブミットボタンがない。(ワイヤー側の問題)

## users
- 不要なアクションdestoryがある。(問題点)
  - 削除と退会は異なり、かつ、paranoiaを使うとの記載はないため。
    - paranoiaを使う場合も、メソッドはdeleteではない。

## cds
- editアクションに相当するページがワイヤーフレームにない。(問題点)
- 不要なアクションdestoryがある。(問題点)
  - cdを削除することはなく、仮に削除するにしても論理の方が良い(?)
	- ワイヤーフレームにも削除ボタンはない。

## addresses
- newアクションに相当するページがワイヤーフレームにない。(問題点)
  - pdf-P9のお届け先住所変更画面には、郵便番号、住所を入力するテキストボックスがないため、今のままではnewではないと判断致しました。
- createアクションの目的が不適当。(問題点)
  - "宛先の新規保存"が適切。
- editアクションに相当するページがワイヤーフレームにない。(ワイヤー側の問題)

## cart_items
- 目的の対象が"カート"になっている。(問題点)
  - cart_itemはカート内商品である。
  - 字面を見ると、1ユーザにカートが複数存在しているように見える。

## orders
- 不要なアクションshowがある。(問題点)
  - 販売/購入履歴は一覧で見れればよく、その1つ1つの詳細画面は必要ない。
  - ワイヤーフレームにも画面はない。
    - pdf-P7の受注管理一覧画面は1個分の履歴しかないですが、文字通り"一覧"=indexと解釈致しました。
- editアクションに相当するページがワイヤーフレームにない。(問題点)
  - 受注管理一覧画面でステータスの変更ができるのであればedit自体が不要だが...
- 不要なアクションdestoryがある。(問題点)
  - 今回、受注を削除することはなく、仮に物理削除してしまうとユーザなどを論理削除にした意味がなくなる。
  - ワイヤーフレームにも削除ボタンはない。

## order_details
- 不要なアクションcreateがある。(問題点)
  - 販売詳細は、親であるOrderのcreate時に同時に作られるものであり、order_detailsコントローラは使わない。
    - 販売詳細自体は後から変更する情報もないため、コントローラ自体が不要。

## admins
- showアクションがワイヤーフレームのどのページに相当するのか不明瞭。(問題点)
  - pdf-P11に"管理者ページ"があるが、マイページではないように思う。
- 不要なアクションedit,updateがある。(問題点)
  - 今回管理者は事前にseedなどで登録しておけばよく、後から編集する必要はない。
  - ワイヤーフレームにも画面はない。

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。
